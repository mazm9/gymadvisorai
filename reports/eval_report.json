{
  "meta": {
    "llm_enabled": true,
    "eval_today": "2026-01-22",
    "note": "RAG baseline quality improves with LLM-enabled answer synthesis; GraphRAG should remain tool-driven/deterministic."
  },
  "summary": {
    "graphrag": {
      "n": 8,
      "correct": 2,
      "accuracy": 0.25,
      "avg_latency_ms": 1316.2,
      "rollups": {
        "numeric": {
          "mean_abs_err": 524.333,
          "median_abs_err": 46.0
        },
        "date": {
          "exact_match_rate": 0.0
        },
        "list_p@k": {
          "mean_precision_at_k": 1.0,
          "mean_recall_at_k": 0.217
        },
        "reasoning": {
          "mean_rubric_score": 0.111
        },
        "matching_top1": {
          "exact_match_rate": 0.5
        }
      }
    },
    "rag": {
      "n": 8,
      "correct": 0,
      "accuracy": 0.0,
      "avg_latency_ms": 4093.7,
      "rollups": {
        "numeric": {
          "mean_abs_err": 598.333,
          "median_abs_err": 173.0
        },
        "date": {
          "exact_match_rate": 0.0
        },
        "list_p@k": {
          "mean_precision_at_k": 0.0,
          "mean_recall_at_k": 0.0
        },
        "reasoning": {
          "mean_rubric_score": 0.0
        },
        "matching_top1": {
          "exact_match_rate": 0.0
        }
      }
    }
  },
  "details": {
    "graphrag": [
      {
        "case": "count_sessions_last_30",
        "metric_type": "numeric",
        "ok": false,
        "latency_ms": 1575.3,
        "answer_preview": "You did 4 session(s) in the last 30 day(s).",
        "metrics": {
          "ok": false,
          "expected": 50,
          "got": 4.0,
          "abs_err": 46.0
        }
      },
      {
        "case": "bench_tonnage_last_30",
        "metric_type": "numeric",
        "ok": false,
        "latency_ms": 1494.8,
        "answer_preview": "Tonnage for bench press in the last 30 day(s): 0.0",
        "metrics": {
          "ok": false,
          "expected": 0.0,
          "got": 30.0,
          "abs_err": 30.0
        }
      },
      {
        "case": "last_squat_date",
        "metric_type": "date",
        "ok": false,
        "latency_ms": 1436.2,
        "answer_preview": "No recorded session for squat.",
        "metrics": {
          "ok": false,
          "expected": "1900-01-01",
          "got": null
        }
      },
      {
        "case": "safe_exercises_no_shoulder",
        "metric_type": "list_p@k",
        "ok": true,
        "latency_ms": 1507.4,
        "answer_preview": "Exercises without risk 'shoulder': Back Squat, Barbell Row, Biceps Curl, Calf Raise, Cycling, Deadlift, Front Squat, Goblet Squat, Hanging Knee Raise, Hip Thrust, Incline Walk, Kettlebell Swing, Lat Pulldown, Leg Curl, Leg Press, Plank, Pul",
        "metrics": {
          "ok": true,
          "k": 5,
          "mentioned": [
            "Push-Up",
            "Pull-Up",
            "Lat Pulldown",
            "Barbell Row",
            "Seated Cable Row",
            "Biceps Curl",
            "Triceps Pushdown",
            "Back Squat",
            "Front Squat",
            "Deadlift",
            "Romanian Deadlift",
            "Leg Press",
            "Walking Lunge",
            "Leg Curl",
            "Calf Raise",
            "Plank",
            "Hanging Knee Raise",
            "Hip Thrust",
            "Goblet Squat",
            "Kettlebell Swing",
            "Incline Walk",
            "Cycling",
            "Rowing Erg"
          ],
          "topk": [
            "Push-Up",
            "Pull-Up",
            "Lat Pulldown",
            "Barbell Row",
            "Seated Cable Row"
          ],
          "tp": 5,
          "precision_at_k": 1.0,
          "recall_at_k": 0.217,
          "expected_n": 23
        }
      },
      {
        "case": "plateau_reasoning_bench",
        "metric_type": "reasoning",
        "ok": false,
        "latency_ms": 1335.5,
        "answer_preview": "Not enough history for bench press to assess plateau (need ~6 sessions).",
        "metrics": {
          "ok": false,
          "rubric_score": 0.111,
          "must_hits": [
            "plateau"
          ],
          "nice_hits": []
        }
      },
      {
        "case": "what_if_add_sets",
        "metric_type": "numeric",
        "ok": false,
        "latency_ms": 0.9,
        "answer_preview": "What-if tonnage: 3x10 @ 50.0 = 1500.0",
        "metrics": {
          "ok": false,
          "expected": 1500,
          "got": 3.0,
          "abs_err": 1497.0
        }
      },
      {
        "case": "matching_u2_best_plan",
        "metric_type": "matching_top1",
        "ok": false,
        "latency_ms": 1573.9,
        "answer_preview": "Top 3 training plan matches for user 'u2': 1. Powerbuilding 5D (score=-28.0) | focus_overlap=1 | risk_conflicts=0 | missing_equipment=3 | days_diff=3 2. Hypertrophy Upper/Lower 4D (score=-32.0) | focus_overlap=0 | risk_conflicts=0 | missing",
        "metrics": {
          "ok": false,
          "expected": "Powerbuilding 5D",
          "top1": "Strength 3D Full Body",
          "mentioned": [
            "Strength 3D Full Body",
            "Hypertrophy Upper/Lower 4D",
            "Powerbuilding 5D"
          ]
        }
      },
      {
        "case": "matching_u3_best_plan",
        "metric_type": "matching_top1",
        "ok": true,
        "latency_ms": 1605.9,
        "answer_preview": "Top 3 training plan matches for user 'u3': 1. Hypertrophy Upper/Lower 4D (score=-31.0) | focus_overlap=0 | risk_conflicts=0 | missing_equipment=3 | days_diff=1 2. Endurance + Strength 4D (score=-31.0) | focus_overlap=0 | risk_conflicts=0 | ",
        "metrics": {
          "ok": true,
          "expected": "Hypertrophy Upper/Lower 4D",
          "top1": "Hypertrophy Upper/Lower 4D",
          "mentioned": [
            "Hypertrophy Upper/Lower 4D",
            "Endurance + Strength 4D",
            "Home Gym Minimalist 3D"
          ]
        }
      }
    ],
    "rag": [
      {
        "case": "count_sessions_last_30",
        "metric_type": "numeric",
        "ok": false,
        "latency_ms": 6279.4,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: PDF:workout_logs_synthetic.pdf Workout Logs Summary (Synthetic) Total sessions: 173 across 10 users. Date range: 2025-09-25 to 2026-01-23. User u1 - Session Summary Number of sessions: 16. First",
        "metrics": {
          "ok": false,
          "expected": 50,
          "got": 173.0,
          "abs_err": 123.0
        }
      },
      {
        "case": "bench_tonnage_last_30",
        "metric_type": "numeric",
        "ok": false,
        "latency_ms": 3841.8,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: PDF:workout_logs_synthetic.pdf Workout Logs Summary (Synthetic) Total sessions: 173 across 10 users. Date range: 2025-09-25 to 2026-01-23. User u1 - Session Summary Number of sessions: 16. First",
        "metrics": {
          "ok": false,
          "expected": 0.0,
          "got": 173.0,
          "abs_err": 173.0
        }
      },
      {
        "case": "last_squat_date",
        "metric_type": "date",
        "ok": false,
        "latency_ms": 3785.6,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: PDF:workout_logs_synthetic.pdf Workout Logs Summary (Synthetic) Total sessions: 173 across 10 users. Date range: 2025-09-25 to 2026-01-23. User u1 - Session Summary Number of sessions: 16. First",
        "metrics": {
          "ok": false,
          "expected": "1900-01-01",
          "got": "2025-09-25"
        }
      },
      {
        "case": "safe_exercises_no_shoulder",
        "metric_type": "list_p@k",
        "ok": false,
        "latency_ms": 3532.6,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: Exercise: Lateral Raise Targets: Shoulders Equipment: Dumbbells, Cable Risk: Shoulder --- Exercise: Incline Dumbbell Press Targets: Chest, Shoulders, Triceps Equipment: Dumbbells Risk: Shoulder ",
        "metrics": {
          "ok": false,
          "k": 5,
          "mentioned": [
            "Bench Press",
            "Incline Dumbbell Press",
            "Lateral Raise",
            "Face Pull",
            "Chest Fly"
          ],
          "topk": [
            "Bench Press",
            "Incline Dumbbell Press",
            "Lateral Raise",
            "Face Pull",
            "Chest Fly"
          ],
          "tp": 0,
          "precision_at_k": 0.0,
          "recall_at_k": 0.0,
          "expected_n": 23
        }
      },
      {
        "case": "plateau_reasoning_bench",
        "metric_type": "reasoning",
        "ok": false,
        "latency_ms": 3529.9,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: UserProfile: u8 Goal: Rehab & mobility DaysPerWeek: 3 Minutes: 40 Focus: General fitness Constraints: Limit spinal loading Equipment: Barbell, Cable, Kettlebell, Machine Level: Beginner --- Trai",
        "metrics": {
          "ok": false,
          "rubric_score": 0.0,
          "must_hits": [],
          "nice_hits": []
        }
      },
      {
        "case": "what_if_add_sets",
        "metric_type": "numeric",
        "ok": false,
        "latency_ms": 4258.9,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: PDF:sample_user_brief.pdf GymAdvisorAI - User Profile & Workout Brief User ID: u1 Created: 2026-01-23 Goal: Strength (build bench + pull-up strength) Focus Muscles: Chest, Back Days Per Week: 3 ",
        "metrics": {
          "ok": false,
          "expected": 1500,
          "got": 1.0,
          "abs_err": 1499.0
        }
      },
      {
        "case": "matching_u2_best_plan",
        "metric_type": "matching_top1",
        "ok": false,
        "latency_ms": 3421.6,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: PDF:user_profiles_synthetic.pdf User Profile: User 1 (u1) Goal: Endurance. Experience: Advanced. Preferred training frequency: 2 days/week, 30 minutes/session. Focus areas: Rehab & mobility. Con",
        "metrics": {
          "ok": false,
          "expected": "Powerbuilding 5D",
          "top1": "Strength 3D Full Body",
          "mentioned": [
            "Strength 3D Full Body",
            "Hypertrophy Upper/Lower 4D",
            "Fat Loss Circuit 3D",
            "Rehab Shoulders 2D",
            "Endurance + Strength 4D",
            "Powerbuilding 5D",
            "Home Gym Minimalist 3D",
            "Knee-Friendly Lower 3D"
          ]
        }
      },
      {
        "case": "matching_u3_best_plan",
        "metric_type": "matching_top1",
        "ok": false,
        "latency_ms": 4099.5,
        "answer_preview": "RAG baseline (retrieval=tfidf). Top snippets: PDF:user_profiles_synthetic.pdf User Profile: User 1 (u1) Goal: Endurance. Experience: Advanced. Preferred training frequency: 2 days/week, 30 minutes/session. Focus areas: Rehab & mobility. Con",
        "metrics": {
          "ok": false,
          "expected": "Hypertrophy Upper/Lower 4D",
          "top1": "Strength 3D Full Body",
          "mentioned": [
            "Strength 3D Full Body",
            "Hypertrophy Upper/Lower 4D",
            "Fat Loss Circuit 3D",
            "Rehab Shoulders 2D",
            "Endurance + Strength 4D",
            "Powerbuilding 5D",
            "Home Gym Minimalist 3D",
            "Knee-Friendly Lower 3D"
          ]
        }
      }
    ]
  }
}